<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <!-- <script>
            var f = (v) => v;
            // 等同于
            // var f = function (v) {
            //     return v;
            // };

            var pf = (n) => n * n;
            // 如果一个参数 括号可以省略 没有参数或者 多个参数 要带括号

            var arr = [1, 2, 3, 4, 5];

            // 如果函数需要执行多行 用回以前的{}
            arr.forEach((element) => {
                
            });

            // ES5
            var newArr = [];
            arr.forEach(function (element) {
                newArr.push(pf(element));
            });
            

            // es6 map
            var newArr = arr.map((n) => n * n);

            // 如果箭头函数的代码块部分多于一条语句，就要使用大括号将它们括起来，并且使用return语句返回。
            let getTempItem = (id) => ({ id: id, name: "Temp" });
            // 所以如果箭头函数直接返回一个对象，必须在对象外面加上括号

            var full = ({ first, last }) => "hello " + first + " " + last;
            full({ first: "nick", last: "zhaosi" });
        </script> -->

        <script>
            // 函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象。
            // 不可以当作构造函数
            // 不可以使用arguments对象 rest

            // OLD this 指向函数（方法）运行时所挂载的对象 this动态指向
            var speak = function () {
                
            };

            // NEW this 指向函数（方法）写代码时所挂载的对象 this静态指向
            // 定义时所在的作用域，而不是指向运行时所在的作用域
            // 箭头函数没有改变this

            // this指向的固定化，并不是因为箭头函数内部有绑定this的机制，实际原因是箭头函数根本没有自己的this，
            // 导致内部的this就是外层代码块的this。正是因为它没有this，所以也就不能用作构造函数。
            var greet = () => [this.name, this.age];

            var obj = {
                name: "nick",
                age: 17,
                speak: speak,
                greet: greet,
            };
            var obj2 = {
                name: "mark",
                age: 27,
                speak: speak,
                greet: () => [this.name, this.age],
            };

            var a = obj2.greet
            var b = obj2.speak

            speak();
            // window.speak();
            obj.speak();
            obj2.speak();

        </script>
    </body>
</html>
