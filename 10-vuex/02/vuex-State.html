<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <script src="https://cn.vuejs.org/js/vue.js"></script>
        <script src="https://unpkg.com/vuex@3.3.0/dist/vuex.js"></script>
    </head>
    <body>
        <div id="app"></div>
        <script>
            const store = new Vuex.Store({
                state: {
                    count: 5,
                    xxx: { name: "nick", age: 17 },
                },

                mutations: {
                    increment(state, n) {
                        // 
                        state.count += n;
                    },
                },
            });

            new Vue({
                el: "#app",
                store,
                data: {
                    localCount: 100,
                },
                // 计算属性
                // computed: {
                //     count: function () {
                //         return this.$store.state.count;
                //     },
                //     xxx: function () {
                //         return this.$store.state.xxx;
                //     }
                // },

                // 状态映射
                // computed: Vuex.mapState({
                //     count: function (state) {
                //         return state.count;
                //     },
                //     xxx: function (state) {
                //         return state.xxx;
                //     },
                // }),

                // this依赖本地状态使用普通函数
                // computed: Vuex.mapState({
                //     count: (state) => state.count,
                //     xxx: (state) => state.xxx,
                //     yyyCount: function (state) {
                //         return state.count + this.localCount;
                //     },
                // }),

                // 当映射的计算属性的名称与 state 的子节点名称相同时
                //我们也可以给 mapState 传一个字符串数组
                // 原来叫什么现在还是叫什么 key
                // computed: Vuex.mapState(["xxx", "count"]),

                // 对象聚合
                computed: {
                    ...Vuex.mapState(["xxx", "count"]),
                    yyyCount: function (state) {
                        return state.count + this.localCount;
                    }
                },
            });

            var obj = {
                name: "nick",
                age: 17,
            };
            var o = { ...obj, xxx: "123" };
            var arr = [11, 22, 33, 44];
            var a = [...arr, 555];
        </script>
    </body>
</html>
