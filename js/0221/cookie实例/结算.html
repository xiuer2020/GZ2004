<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			body{background:#eee;}
			*{margin:0;padding:0;}
			ul{list-style:none;}
			a{text-decoration:none;}
			div.item-list{width:980px;height:auto;margin:0 auto;}
			div.item-list>.item{width:100%;height:120px;background:#fff;line-height:120px;border-bottom:1px solid #eee;}
			div.item-list>.item>img{float:left;width:100px;margin:10px;}
			div.item-list>.item>div{float:left;}
			div.item-list>.item>.goodsName{width:400px;height:40px;margin:40px 20px;font:14px/20px 宋体;color:#666;}
			div.item-list>.item>.goodsPrice{width:100px;color:red;margin:0px 30px;}
			div.item-list>.item>.total{color:red;margin:0px 50px;}
			div.shop{display:none;}
		</style>
	</head>
	<body>
		<div class="wrap">
			<h2>结算页面-全部商品</h2>
			<div class="item-list">
				<!-- <div class="item">
					<img src="images/1.jpg" alt="">
					<div class="goodsName">羊家旺 宁夏盐池滩羊肉 生鲜羊排条礼盒 火锅 烧烤食材羊肉牛羊排骨清真 精修精</div>
					<div class="goodsPrice">￥168元</div>
					<div class="goodsNum">1</div>
					<div class="total">￥168元</div>
				</div> -->
			</div>
			<div class="shop">
				<h4>你现在还没购买商品，请先去<a href="index.html">选购</a>吧</h4>
			</div>
		</div>
		<script>
			// 要求将document.cookie的信息放到页面上
			console.log(document.cookie)
			var itemList = document.getElementsByClassName('item-list')[0];
			
		// 判断是否有缓存
		if(document.cookie){
			var cookie = document.cookie.split('=')[1];
			console.log(cookie)
			// JSON.parse()将字符串转换为数组
			 var shopList = JSON.parse(cookie)
			
			
			
			for(var i=0;i<shopList.length;i++){
				console.log(shopList[i])
				
				var item = document.createElement('div');
				item.setAttribute('class','item')
				
				// 添加图片
				var img = document.createElement('img');
				img.setAttribute('src',shopList[i].img)
				item.appendChild(img)
				
				// 商品名字
				var goodsName = document.createElement('div');
				goodsName.setAttribute('class','goodsName');
				goodsName.innerHTML = shopList[i].name;
				item.appendChild(goodsName);
							
				
				// 商品价格
				var goodsPrice = document.createElement('div');
				goodsPrice.setAttribute('class','goodsPrice');
				goodsPrice.innerHTML = '￥'+shopList[i].price+'元';
				item.appendChild(goodsPrice);
				
				// 商品数量
				var goodsNum = document.createElement('div');
				goodsNum.setAttribute('class','goodsNum');
				goodsNum.innerHTML = shopList[i].num;
				item.appendChild(goodsNum);
				
				// 总计
				var total = document.createElement('div');
				total.setAttribute('class','total');
				// 计算总价
				var totalMoney = shopList[i].price*shopList[i].num;
				total.innerHTML = '￥'+totalMoney.toFixed(2)+'元';
				item.appendChild(total);
				
				console.log(item)
				itemList.appendChild(item)
			}
		}else{
				var shop = document.getElementsByClassName('shop')[0]
				console.log(shop)
				shop.style.display = 'block';
		}
		</script>
	</body>
</html>
