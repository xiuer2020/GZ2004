<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<div id="foods">
			<input type="checkbox" name="foods">友友凤爪<br>
			<input type="checkbox" name="foods">豆浆油条<br>
			<input type="checkbox" name="foods">麻辣小面<br>
			<input type="checkbox" name="foods">广东早茶<br>
			<input type="checkbox" name="foods">广州肠粉<br>
			<input type="checkbox" name="foods">柳州螺蛳粉<br>
		</div>
		<hr>
		<input type="checkbox" id="all">全选/全不选
		<input type="checkbox" id="rev">反选
	
		<script>
			var all = document.getElementById('all');
			var rev = document.getElementById('rev');
			var foods = document.getElementById('foods').getElementsByTagName('input');
			
			// 全选
			all.onchange = function(){
				for(var i=0;i<foods.length;i++){
					// if(this.checked == true){
					// 	foods[i].checked = true;
					// }else{
					// 	foods[i].checked = false;
					// }
					foods[i].checked = this.checked;
				}
			}
			
			// 反选
			rev.onchange = function(){
				for(var i=0;i<foods.length;i++){
					foods[i].checked = !foods[i].checked;
					check()
				}
			}
			
			
			// 给每一个按钮绑定事件
			for(var i=0;i<foods.length;i++){
				foods[i].onchange = function(){
					check()
				}
			}
			
			// 检测是否全部选中
			function check(){
				var selectGoods = [];
				
				for(var j=0;j<foods.length;j++){
					if(foods[j].checked){
						selectGoods.push(foods[j])
					}
				}
				
				(selectGoods.length == foods.length) ? all.checked=true : all.checked=false;
				// 
			}
		</script>
	</body>
</html>
