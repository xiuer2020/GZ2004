<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			*{margin:0;padding:0;}
			div{width:200px;height:200px;background:green;position:absolute;left:0px;top:0px;}
		</style>
	</head>
	<body>
		<div id="box"></div>
		<script>
			var box = document.getElementById('box');
			
			// 绑定鼠标按下事件
			box.onmousedown = function(e){
				this.style.background = 'orange';
				
				var ev = e || window.event;
				var offsetX = ev.offsetX;
				var offsetY = ev.offsetY;
				
				window.onmousemove = function(e){
					var ev = e || window.event;
				
					var offsetLeft = ev.clientX - offsetX;
					var offsetTop = ev.clientY - offsetY;
					
					// 
					box.style.left = offsetLeft + 'px';
					box.style.top = offsetTop + 'px';
				}
			}
			
			
			box.onmouseup = function(){
				this.style.background = 'green';
				// 取消事件绑定
				window.onmousemove = null;
			}
		</script>
	</body>
</html>
