<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			span{font-size:12px;}
		</style>
	</head>
	<body>
		<form action="1.php" method="post" id="form">
			姓名：<input type="text" id="user"><span></span><br>
			密码：<input type="password"><br>
			<h2>你们最近想吃什么：</h2>
			<select name="foods" id="foods">
				<option value="泡椒风爪">泡椒风爪</option>
				<option value="百事可乐">百事可乐</option>
				<option value="珍珠奶茶">珍珠奶茶</option>
				<option value="重庆火锅">重庆火锅</option>
				<option value="广州肠粉">广州肠粉</option>
			</select>
			
			<input type="submit">
			<input type="reset">
		</form>
		<script>
			var flag = false;
			var user = document.getElementById('user')
			
			user.onfocus = function(){
				// 
				this.nextSibling.innerHTML = '请输入正确的用户名'
				this.nextSibling.style.color = '#ccc';
			}
			
			user.onblur = function(){
				// 
				// trim()去除两侧的空格
				
				var str = this.value.trim();
				
				// 定义正则表达式(明天讲)
				var pattern = /^\w{6,12}$/;
				
				if(pattern.test(str)){
					this.nextSibling.innerHTML = '√ 用户名正确'
					this.nextSibling.style.color = 'green';
					flag = true;
				}else{
					this.nextSibling.innerHTML = '× 用户名错误'
					this.nextSibling.style.color = 'red';
					flag = false;
				}
				
			}
			
			var foods = document.getElementById('foods');
			
			// 监听域的改变
			foods.onchange = function(){
				
			}
			
			// 
			var form = document.getElementById('form');
			
	
			form.onsubmit = function(e){
				// var ev = e || window.event;
				// ev.preventDefault ? ev.preventDefault() : ev.returnValue = true;
					
				
				// ruturn的值为true则允许提交    值为false则阻止提交
				return flag;
			}
			
			form.onreset = function(){
				// ruturn的值为true则允许重置    值为false则阻止重置
				
				var res = confirm('你确定要重置吗？')
				return res;
			}
		</script>
	</body>
</html>
