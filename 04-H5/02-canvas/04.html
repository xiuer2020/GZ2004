<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <style>
            #canvas {
                border: 1px solid red;
            }
        </style>
    </head>
    <body>
        <canvas id="canvas" width="300" height="300"></canvas>

        <script>
            /** @type {HTMLCanvasElement} */
            var canvas = document.getElementById("canvas");
            // 获取canvas元素
            var context = canvas.getContext("2d");
            // 获取上下文

            context.beginPath();
            context.moveTo(50, 150);
            context.quadraticCurveTo(150, -150, 250, 150);
            context.arc(150, 150, 100, 0, 1 * Math.PI);
            // context.stroke();
            context.fill();
            // 
            // 
            // 检测某个点是否在路径上

            // context.isPointInPath(150, 150);

            canvas.onclick = function(event) {
                // 
                if (context.isPointInPath(event.offsetX, event.offsetY)) {
                    
                } else {
                    
                }
            };

            context.closePath();

            context.clearRect(0, 0, 300, 300);

            //
            var n = 10;

            var id = setInterval(function() {
                context.clearRect(0, 0, 300, 300);

                n += 2;

                // 画蓝色 80%
                context.beginPath();
                context.fillStyle = "lightskyblue";
                context.moveTo(150, 150);
                context.arc(
                    150,
                    150,
                    (100 / 100) * n * 0.8,
                    -0.5 * Math.PI,
                    -0.5 * Math.PI + ((2 * Math.PI) / 100) * n * 0.8
                );
                context.fill();
                context.closePath();

                // 画橙色20%  0.5-0 * 0.8 => 5 4 3 2 1 0 => 4 3.2  0
                context.beginPath();
                context.fillStyle = "orange";
                context.moveTo(150, 150);
                context.arc(
                    150,
                    150,
                    (100 / 100) * n * 0.2,
                    -0.5 * Math.PI + ((2 * Math.PI) / 100) * n * 0.8,
                    -0.5 * Math.PI + ((2 * Math.PI) / 100) * n * 0.8 + ((2 * Math.PI) / 100) * n * 0.2
                );
                context.fill();
                context.closePath();

                // context.beginPath();
                // context.fillStyle = "white";
                // context.moveTo(150, 150);
                // context.arc(150, 150, (50 / 100) * n, 0, 2 * Math.PI);
                // context.fill();
                // context.closePath();

                if (n >= 100) {
                    clearInterval(id);
                }
            }, 30);


            // 柱状图
            // 折线图
        </script>
    </body>
</html>
